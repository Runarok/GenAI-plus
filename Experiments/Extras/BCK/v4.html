<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Card</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Favicon for the page -->
  <link rel="icon" href="https://raw.githubusercontent.com/Runarok/GenAI-plus/main/GenAI-plus.png" type="image/png">
  <style>
    body {
      background-color: #121212;
      color: #fff;
      font-family: 'Segoe UI', 'Arial', sans-serif;
      min-height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background-color 0.5s;
    }
    .container {
      text-align: center;
      width: 100%;
    }
    .input-section, .card-section {
      display: none;
      margin: 0 auto;
      width: 100%;
      max-width: 420px;
    }
    .input-section {
      display: block;
    }
    .input-section h1 {
      font-size: 2.2em;
      margin-bottom: 24px;
      letter-spacing: 0.01em;
      color: #ff4081;
      font-family: 'Pacifico', cursive, 'Comic Sans MS', cursive;
    }
    .input-section input {
      padding: 12px;
      font-size: 20px;
      border: 2px solid #fff;
      background-color: #232323;
      color: #fff;
      border-radius: 6px;
      margin-bottom: 12px;
      width: 75%;
      text-align: center;
      outline: none;
      transition: border 0.3s;
    }
    .input-section input:focus {
      border: 2px solid #ff4081;
    }
    .input-section button {
      padding: 12px 32px;
      font-size: 20px;
      background-color: #ff4081;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      font-weight: bold;
      transition: background 0.3s;
      box-shadow: 0 2px 12px rgba(255,64,129,0.07);
    }
    .input-section button:hover {
      background-color: #ff6fa1;
    }
    /* Toast Notification Styles */
    .toast {
      visibility: hidden;
      position: fixed;
      z-index: 9999;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #232323;
      color: #fff;
      text-align: center;
      border-radius: 7px;
      padding: 12px 26px;
      font-size: 20px;
      line-height: 1.5;
      box-shadow: 0 4px 6px rgba(0,0,0,0.5);
      opacity: 0;
      transition: opacity 0.6s, visibility 0.6s;
      width: auto;
      max-width: 80vw;
    }
    .toast.show {
      visibility: visible;
      opacity: 1;
    }
    /* Birthday Card Design */
    .card {
      background-color: #1e1e1e;
      padding: 36px 24px 30px 24px;
      border-radius: 18px;
      box-shadow: 0 10px 50px rgba(0,0,0,0.8);
      text-align: center;
      animation: cardAnimation 1s cubic-bezier(0.22,1,0.36,1);
      max-width: 99vw;
      margin: 0 auto;
      position: relative;
    }
    .card h1 {
      font-size: 2.5em;
      margin-bottom: 16px;
      color: #ff4081;
      animation: fadeInTitle 1s cubic-bezier(0.22,1,0.36,1);
      font-family: 'Pacifico', cursive, 'Comic Sans MS', cursive;
      letter-spacing: 0.03em;
    }
    .card p {
      font-size: 1.45em;
      margin-top: 10px;
      color: #e0e0e0;
      animation: fadeInText 1.5s cubic-bezier(0.22,1,0.36,1);
    }
    .card img {
      width: 260px;
      margin-top: 22px;
      border-radius: 10px;
      animation: bounceIn 1s cubic-bezier(0.22,1,0.36,1);
      box-shadow: 0 2px 16px rgba(255,64,129,0.15);
      background: #fff1;
    }
    /* Keyframe Animations */
    @keyframes cardAnimation {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes fadeInTitle {
      0% { opacity: 0; transform: translateY(-24px);}
      100% { opacity: 1; transform: translateY(0);}
    }
    @keyframes fadeInText {
      0% { opacity: 0; transform: translateY(20px);}
      100% { opacity: 1; transform: translateY(0);}
    }
    @keyframes bounceIn {
      0% { transform: scale(0.7) translateY(35px); opacity: 0; }
      80% { transform: scale(1.08) translateY(-10px); opacity: 0.95; }
      100% { transform: scale(1) translateY(0); opacity: 1; }
    }
    @media (max-width: 600px) {
      .card img { width: 97vw; max-width: 320px;}
      .card { padding: 18px 3vw 16px 3vw;}
      .input-section input { width: 90%; }
    }
  </style>
  <link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- Input Section (for name) -->
    <div class="input-section" id="inputSection">
      <h1>Enter Your Name</h1>
      <input type="text" id="nameInput" maxlength="36" placeholder="Your Name">
      <br>
      <button id="generateBtn">Generate Birthday Card</button>
    </div>
    <!-- Birthday Card Section -->
    <div class="card-section" id="cardSection">
      <div class="card" id="birthdayCard">
        <h1 id="cardTitle">Happy Birthday!</h1>
        <p id="cardMessage"></p>
        <img id="birthdayImage" src="" alt="Birthday Celebration">
      </div>
    </div>
  </div>
  <!-- Toast Notification -->
  <div id="toast" class="toast">Link copied!</div>
  <script>
    // Array of celebratory birthday quotes
    const quotes = [
      "Wishing you a day filled with happiness and a year filled with joy!",
      "May your birthday be the start of a year filled with good luck, good health, and much happiness.",
      "Happy Birthday! May your day be filled with love, laughter, and joy!",
      "On your special day, may you be surrounded by love and happiness! Enjoy every moment!",
      "Sending you smiles for every moment of your special day… Have a wonderful time and a very happy birthday!",
      "Cheers to you and your incredible journey ahead. Have a fantastic birthday!",
      "Here's to another year of making beautiful memories! Happy Birthday!",
      "May your heart be filled with joy and laughter on your special day. Happy Birthday!",
      "On your birthday, may the sun shine as brightly as your spirit. Enjoy every moment!",
      "Wishing you a year full of love, adventure, and endless possibilities. Happy Birthday!",
      "Birthdays are nature’s way of telling us to eat more cake! Have a sweet and delightful day!",
      "Your birthday is the perfect time to remind you how much you are loved. Have a wonderful day!",
      "Wishing you a lifetime of happiness, peace, and prosperity. Happy Birthday!",
      "May your birthday be filled with all your favorite things and surrounded by the ones you love. Enjoy!"
    ];

    // Array of celebratory images (royalty-free, static)
    const images = [
      "https://cdn.pixabay.com/photo/2017/01/31/13/14/birthday-2028658_1280.png",
      "https://cdn.pixabay.com/photo/2016/03/23/17/33/birthday-1276269_1280.png",
      "https://cdn.pixabay.com/photo/2014/12/21/23/50/birthday-579520_1280.png",
      "https://cdn.pixabay.com/photo/2017/06/13/22/42/birthday-2405206_1280.jpg",
      "https://cdn.pixabay.com/photo/2018/05/13/17/08/birthday-3392895_1280.jpg"
    ];

    // Helper: base64url encode/decode (for name in hash)
    function base64urlEncode(str) {
      return btoa(unescape(encodeURIComponent(str)))
        .replace(/\+/g, '-').replace(/\//g, '_').replace(/=+$/, '');
    }
    function base64urlDecode(str) {
      str = str.replace(/-/g, '+').replace(/_/g, '/');
      while (str.length % 4) str += '=';
      return decodeURIComponent(escape(atob(str)));
    }

    // DOM Elements
    const inputSection = document.getElementById('inputSection');
    const cardSection = document.getElementById('cardSection');
    const nameInput = document.getElementById('nameInput');
    const generateBtn = document.getElementById('generateBtn');
    const cardTitle = document.getElementById('cardTitle');
    const cardMessage = document.getElementById('cardMessage');
    const cardImg = document.getElementById('birthdayImage');
    const toast = document.getElementById('toast');

    // Show toast notification
    function showToast(msg="Link copied!") {
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(()=>{ toast.classList.remove('show'); }, 1900);
    }

    // Show the birthday card
    function showCard(name) {
      inputSection.style.display = "none";
      cardSection.style.display = "block";
      cardTitle.textContent = `Happy Birthday, ${name}!`;
      cardMessage.textContent = quotes[Math.floor(Math.random()*quotes.length)];
      cardImg.src = images[Math.floor(Math.random()*images.length)];
      cardImg.alt = "Birthday Celebration Image";
    }

    // Generate and copy link, then show card
    generateBtn.onclick = function() {
      let name = nameInput.value.trim();
      if (!name) {
        nameInput.focus();
        showToast("Please enter a name!");
        return;
      }
      // Compress/encode name (base64url)
      let encodedName = base64urlEncode(name);
      // Generate link
      let url = window.location.origin + window.location.pathname + "#" + encodedName;
      navigator.clipboard.writeText(url).then(function() {
        showToast("Link copied!");
        // Wait for toast, then show the card for the entered name
        setTimeout(function() {
          window.location.hash = encodedName; // also update hash for reload/share
          showCard(name);
        }, 900);
      });
    };

    // On load: if hash present, decode and show card
    function tryShowCardFromHash() {
      let hash = window.location.hash.replace(/^#/, "");
      if (hash) {
        let name = "";
        try { name = base64urlDecode(hash); } catch(e) {}
        if (name) {
          showCard(name);
          return true;
        }
      }
      // Otherwise, show input section
      inputSection.style.display = "block";
      cardSection.style.display = "none";
      return false;
    }

    // On hashchange (in case user pastes a link)
    window.addEventListener("hashchange", tryShowCardFromHash);

    // On page load
    window.onload = tryShowCardFromHash;
  </script>
</body>
</html>