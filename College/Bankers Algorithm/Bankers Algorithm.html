<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banker's Algorithm Analyzer</title>
    <link rel="icon" href="https://raw.githubusercontent.com/Runarok/GenAI-plus/main/GenAI-plus.png" type="image/png" />
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="header-text">
                    <h1>Banker's Algorithm Analyzer</h1>
                    <p>Advanced deadlock avoidance with step-by-step analysis</p>
                </div>
                <div class="header-actions">
                    <button id="infoBtn" class="btn btn-info">
                        <i class="fas fa-info-circle"></i>
                        Learn More
                    </button>
                </div>
            </div>
        </header>

        <!-- Info Modal -->
        <div id="infoModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fas fa-graduation-cap"></i> Banker's Algorithm Guide</h2>
                    <button id="closeModalBtn" class="close-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="info-section">
                        <h3><i class="fas fa-lightbulb"></i> What is the Banker's Algorithm?</h3>
                        <p>The Banker's Algorithm is a deadlock avoidance algorithm developed by Edsger Dijkstra. It's used in operating systems to decide whether or not to grant a resource allocation request by checking if the system will remain in a safe state after the allocation.</p>
                        <div class="highlight-box">
                            <strong>Key Purpose:</strong> Prevent deadlocks by ensuring the system never enters an unsafe state where processes might be stuck waiting for resources indefinitely.
                        </div>
                    </div>

                    <div class="info-section">
                        <h3><i class="fas fa-table"></i> Matrix Definitions</h3>
                        <div class="definition-grid">
                            <div class="definition-card">
                                <h4><i class="fas fa-clipboard-list"></i> Allocation Matrix</h4>
                                <p>Shows the current allocation of resources to each process. Allocation[i][j] represents how many instances of resource j are currently allocated to process i.</p>
                            </div>
                            <div class="definition-card">
                                <h4><i class="fas fa-chart-bar"></i> Maximum Matrix</h4>
                                <p>Represents the maximum demand of each process. Max[i][j] is the maximum number of instances of resource j that process i may request during its execution.</p>
                            </div>
                            <div class="definition-card">
                                <h4><i class="fas fa-cubes"></i> Available Vector</h4>
                                <p>Indicates the number of available instances of each resource type. Available[j] shows how many instances of resource j are currently available.</p>
                            </div>
                            <div class="definition-card">
                                <h4><i class="fas fa-calculator"></i> Need Matrix</h4>
                                <p>Calculated as Need[i][j] = Max[i][j] - Allocation[i][j]. It represents the remaining resource requirements for each process to complete its execution.</p>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <h3><i class="fas fa-cogs"></i> Algorithm Steps</h3>
                        <div class="steps-container">
                            <div class="step-item">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>Initialize</h4>
                                    <p>Set Work = Available and Finish[i] = false for all processes</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>Find Process</h4>
                                    <p>Look for a process i where Finish[i] = false and Need[i] â‰¤ Work</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>Execute Process</h4>
                                    <p>If found, execute the process: Work = Work + Allocation[i] and Finish[i] = true</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>Repeat</h4>
                                    <p>Go back to step 2. If all processes are finished, the system is in a safe state</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <h3><i class="fas fa-shield-check"></i> Deadlock Prevention</h3>
                        <p>The algorithm prevents deadlocks by:</p>
                        <ul class="feature-list">
                            <li><i class="fas fa-check"></i> <strong>Safe State Guarantee:</strong> Only granting requests that keep the system in a safe state</li>
                            <li><i class="fas fa-check"></i> <strong>Resource Planning:</strong> Ensuring there's always a sequence of process execution that can complete</li>
                            <li><i class="fas fa-check"></i> <strong>Conservative Approach:</strong> Sometimes denying requests that could potentially lead to deadlock</li>
                            <li><i class="fas fa-check"></i> <strong>Predictive Analysis:</strong> Simulating allocation before actually granting resources</li>
                        </ul>
                    </div>

                    <div class="info-section">
                        <h3><i class="fas fa-lightbulb"></i> Example Scenario</h3>
                        <div class="example-box">
                            <h4>Banking Analogy</h4>
                            <p>Imagine a bank with limited cash reserves. The banker (algorithm) must decide whether to grant loans (resource requests) while ensuring the bank can always meet withdrawal demands from existing customers.</p>
                            <div class="analogy-grid">
                                <div class="analogy-item">
                                    <strong>Bank Cash:</strong> Available Resources
                                </div>
                                <div class="analogy-item">
                                    <strong>Current Loans:</strong> Allocation Matrix
                                </div>
                                <div class="analogy-item">
                                    <strong>Credit Limits:</strong> Maximum Matrix
                                </div>
                                <div class="analogy-item">
                                    <strong>Remaining Credit:</strong> Need Matrix
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <h3><i class="fas fa-play"></i> Using This Tool</h3>
                        <div class="usage-steps">
                            <div class="usage-step">
                                <span class="usage-number">1</span>
                                <p>Set the number of processes and resources in your system</p>
                            </div>
                            <div class="usage-step">
                                <span class="usage-number">2</span>
                                <p>Choose your input method (table or text) and enter the matrices</p>
                            </div>
                            <div class="usage-step">
                                <span class="usage-number">3</span>
                                <p>Click "Check Safe Sequence" to analyze the current system state</p>
                            </div>
                            <div class="usage-step">
                                <span class="usage-number">4</span>
                                <p>Use "Check Process Request" to test specific resource requests</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Configuration Section -->
        <section class="section">
            <div class="section-header">
                <h2><i class="fas fa-cog"></i> System Configuration</h2>
                <p>Set up the number of processes and resources in your system</p>
            </div>
            <div class="config-container">
                <div class="config-grid">
                    <div class="config-item">
                        <label for="processes">Processes</label>
                        <input type="number" id="processes" min="1" max="10" value="5">
                        <span class="config-hint">Number of processes (1-10)</span>
                    </div>
                    <div class="config-item">
                        <label for="resources">Resources</label>
                        <input type="number" id="resources" min="1" max="10" value="3">
                        <span class="config-hint">Number of resource types (1-10)</span>
                    </div>
                </div>
                <div class="config-action">
                    <button id="setupBtn" class="btn btn-primary">
                        <i class="fas fa-arrow-right"></i>
                        Setup Matrices
                    </button>
                </div>
            </div>
        </section>

        <!-- Input Method Selection -->
        <section class="section" id="inputMethodSection" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-keyboard"></i> Input Method</h2>
                <p>Choose how you want to input your data</p>
            </div>
            <div class="input-method-selector">
                <button class="method-btn active" data-method="table">
                    <i class="fas fa-table"></i>
                    <span>Table Input</span>
                    <small>Interactive grid interface</small>
                </button>
                <button class="method-btn" data-method="text">
                    <i class="fas fa-edit"></i>
                    <span>Text Input</span>
                    <small>Comma-separated values</small>
                </button>
            </div>
        </section>

        <!-- Data Input Section -->
        <section class="section" id="dataInputSection" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-database"></i> System Data</h2>
                <p>Enter your allocation, maximum demand, and available resources</p>
            </div>
            
            <!-- Table Input -->
            <div id="tableInput" class="input-container">
                <div class="matrix-grid">
                    <div class="matrix-card">
                        <div class="matrix-header">
                            <h3>Allocation Matrix</h3>
                            <p>Current resource allocation to processes</p>
                        </div>
                        <div id="allocationMatrix" class="matrix-content"></div>
                    </div>
                    
                    <div class="matrix-card">
                        <div class="matrix-header">
                            <h3>Maximum Matrix</h3>
                            <p>Maximum resource demand of each process</p>
                        </div>
                        <div id="maxMatrix" class="matrix-content"></div>
                    </div>
                    
                    <div class="matrix-card">
                        <div class="matrix-header">
                            <h3>Available Vector</h3>
                            <p>Currently available resources</p>
                        </div>
                        <div id="availableVector" class="matrix-content"></div>
                    </div>
                </div>
            </div>

            <!-- Text Input -->
            <div id="textInput" class="input-container" style="display: none;">
                <div class="text-input-grid">
                    <div class="text-input-card">
                        <label for="allocationText">Allocation Matrix</label>
                        <textarea id="allocationText" placeholder="Enter rows separated by newlines, values separated by commas:&#10;0,1,0&#10;2,0,0&#10;3,0,2"></textarea>
                        <small>Each row on a new line, values separated by commas</small>
                    </div>
                    
                    <div class="text-input-card">
                        <label for="maxText">Maximum Matrix</label>
                        <textarea id="maxText" placeholder="Enter rows separated by newlines, values separated by commas:&#10;7,5,3&#10;3,2,2&#10;9,0,2"></textarea>
                        <small>Each row on a new line, values separated by commas</small>
                    </div>
                    
                    <div class="text-input-card">
                        <label for="availableText">Available Vector</label>
                        <input type="text" id="availableText" placeholder="3,3,2">
                        <small>Values separated by commas</small>
                    </div>
                </div>
            </div>

            <div class="action-bar">
                <button id="loadExampleBtn" class="btn btn-secondary">
                    <i class="fas fa-file-import"></i>
                    Load Example Data
                </button>
            </div>
        </section>

        <!-- Analysis Actions Section -->
        <section class="section" id="analysisActionsSection" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-play"></i> Analysis Options</h2>
                <p>Choose the type of analysis you want to perform</p>
            </div>
            <div class="analysis-actions">
                <button id="checkSafeSequenceBtn" class="btn btn-success">
                    <i class="fas fa-shield-check"></i>
                    Check Safe Sequence
                </button>
                <button id="checkProcessRequestBtn" class="btn btn-warning">
                    <i class="fas fa-hand-paper"></i>
                    Check Process Request
                </button>
            </div>
        </section>

        <!-- Request Input Section -->
        <section class="section" id="requestInputSection" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-hand-paper"></i> Process Request</h2>
                <p>Test if a specific resource request can be safely granted</p>
            </div>
            <div class="request-container">
                <div class="request-input">
                    <div class="request-process">
                        <label for="requestProcess">Process</label>
                        <select id="requestProcess"></select>
                    </div>
                    <div class="request-vector">
                        <label>Request Vector</label>
                        <div id="requestVector" class="vector-input"></div>
                    </div>
                </div>
                <div class="request-action">
                    <button id="processRequestBtn" class="btn btn-warning">
                        <i class="fas fa-check-circle"></i>
                        Process Request
                    </button>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="section" id="resultsSection" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-chart-line"></i> Analysis Results</h2>
                <p>Step-by-step breakdown of the algorithm execution</p>
            </div>
            <div id="resultsContent" class="results-container"></div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>