<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Base64 Viewer & Editor</title>
        <link rel="icon" href="https://raw.githubusercontent.com/Runarok/GenAI-plus/main/GenAI-plus.png" type="image/png">
        <!-- External libraries -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js">
        </script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body data-theme="dark">
        <header class="header">
            <h1>Base64 Viewer & Editor</h1>
            <div class="theme-switcher">
                <button class="theme-btn active" data-theme="dark">Dark</button>
                <button class="theme-btn" data-theme="light">Light</button>
                <button class="theme-btn" data-theme="blue">Blue</button>
            </div>
        </header>
        <div class="main-container">
            <!-- Left Panel -->
            <div class="panel">
                <div class="tabs">
                    <div class="tab active" data-tab="text">Text Editor</div>
                    <div class="tab" data-tab="upload">Upload</div>
                </div>
                <div class="tab-content active" data-content="text">
                    <div class="panel-header">
                        <span class="panel-title">Base64 Text</span>
                        <div class="panel-actions">
                            <button class="btn" onclick="copyText()">üìã Copy</button>
                            <button class="btn" onclick="downloadText()">üíæ Download</button>
                            <button class="btn btn-primary" onclick="clearText()">üóëÔ∏è Clear</button>
                        </div>
                    </div>
                    <div class="panel-content">
<textarea class="text-area" id="base64Input" placeholder="Paste your Base64 encoded text here or upload an image..." oninput="updateImage()">
</textarea>
                    </div>
                </div>
                <div class="tab-content" data-content="upload">
                    <div class="panel-header">
                        <span class="panel-title">Upload Image</span>
                        <div class="panel-actions">
                            <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">üìÅ Choose File</button>
                        </div>
                    </div>
                    <div class="panel-content">
                        <input type="file" id="fileInput" class="file-input" accept="image/*" onchange="handleFileUpload(event)">
                        <div class="drop-zone" id="dropZone">
                            <div class="drop-zone-icon">üìÅ</div>
                            <div class="drop-zone-text">
                                <p>
                                    <strong>Drop image files here</strong>
                                </p>
                                <p>or click "Choose File" to browse</p>
                                <p>
                                    You can also paste images from clipboard (
                                    <kbd>Ctrl+V</kbd>
                                    )
                                </p>
                            </div>
                            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                <p>Supported formats: JPG, PNG, GIF, WebP</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Right Panel -->
            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title">Image Preview</span>
                    <div class="panel-actions">
                        <button class="btn" onclick="downloadImage()" id="downloadBtn" disabled="">üíæ Download</button>
                        <button class="btn" onclick="rotateImage()" id="rotateBtn" disabled="">üîÑ Rotate</button>
                        <button class="btn btn-success" onclick="openCropModal()" id="cropBtn" disabled="">‚úÇÔ∏è Crop</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="image-container">
                        <div class="image-display" id="imageDisplay">
                            <div class="placeholder">
                                <p>No image to display</p>
                                <p>Enter Base64 text or upload an image</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Crop Modal -->
        <div class="crop-modal" id="cropModal">
            <div class="crop-container">
                <img id="cropImage" style="max-width: 100%; max-height: 60vh;">
                <div class="crop-actions">
                    <button class="btn btn-success" onclick="applyCrop()">‚úÖ Apply Crop</button>
                    <button class="btn" onclick="closeCropModal()">‚ùå Cancel</button>
                </div>
            </div>
        </div>
        <!-- Toast Notification -->
        <div class="toast" id="toast">
        </div>
        <script src="script.js">
        </script>
    </body>
</html>
